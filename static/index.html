<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Sanctuary</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta id="theme-color" name="theme-color" content="#FFFFFF">

    <link rel="stylesheet" href="static/lib/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="static/lib/dataTables.bootstrap4.min.css" type="text/css">
    <link rel="stylesheet" href="static/lib/scroller.bootstrap4.min.css" type="text/css">
    <link rel="stylesheet" href="static/lib/jquery.fileupload.css" type="text/css">

    <link rel="manifest" href="static/manifest.json">
    <link rel="shortcut icon apple-touch-icon" href="static/assets/img/favicon.png" sizes="144x144" type="image/png">
    <link rel="shortcut icon apple-touch-icon" href="static/assets/img/icon-md.png" sizes="256x256" type="image/png">
    <link rel="shortcut icon apple-touch-icon" href="static/assets/img/icon-lg.png" sizes="512x512" type="image/png">
  </head>

  <body>

    <!-- Navigation Bar -->
    <nav class="navbar sticky-top navbar-expand navbar-light bg-light">
      <a class="navbar-brand" href="#">
        <img src="static/assets/img/icon.svg" width="30" height="30" class="d-inline-block align-top" alt="">
        Sanctuary
      </a>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#" data-toggle="modal" data-target="#aboutModal">About</a>
        </li>
      </ul>
    </nav>
    <div class='container-fluid'>

      <!-- Offline Notice -->
      <div class="row show-when-offline mt-4 d-none">
        <div class='col-sm-12'>
          <div class="alert alert-warning" role="alert">You appear to be offline, make sure you're connected to the network, close enough to the device, and try reloading the page.</div>
        </div>
      </div>

      <!-- About Modal -->
      <div class="modal" id="aboutModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Sanctuary Wi-Fi Dead Drop</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>
                <a target="_blank" href="https://github.com/smwa/sanctuary">https://github.com/smwa/sanctuary</a> is a Wi-Fi dead drop.
                It isn't connected to the internet, but you can connect to it like your internet at home. You can upload files from your computer or phone and others can download them.
                All files are available for everyone to see, and there's a chat window that is public.
                This can be used for sending messages to anyone that connects or let you chat anonymously.
              </p>
              <p>
                You can start your own using a Raspberry Pi Zero W, a Micro SD Card, and a battery pack or usb charger.
                The devices can sync files across different Sanctuaries, either using your browser or by being close to each other.
                This makes sharing large files between friends or strangers simple.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class='row hide-when-offline mt-2'>
        <div class='col-sm-12'>
          <div class="btn-group" role="group" aria-label="Action Buttons">
            <span class="btn btn-success fileinput-button">
              <span>Add Files</span>
              <input id="fileInput" type="file" name="fileInput[]" multiple>
            </span>
          </div>
          <div class="d-none progressContainer">
            <div id="progress" class="progress">
              <div class="progress-bar progress-bar-success"></div>
            </div>
            <span class="progressText"></span>
          </div>
        </div>
      </div>

      <!-- Files -->
      <div class='row hide-when-offline mt-4'>
        <div class='col-lg-12'>
          <h3>Files</h3>
          <table id="filesTable" class="table table-striped table-bordered" style="width: 100%"></table>
        </div>
      </div>

      <!-- Chat -->
      <div class='row hide-when-offline mt-4'>
        <div class='col-lg-8'>
          <h3>Chat</h3>
          <table id="chatTable" class="table table-striped table-bordered" style="width: 100%">
            <thead class='d-none'><tr><th>&nbsp;</th></tr></thead>
          </table>
        </div>
        <div class='col-lg-4'>
          <div class="alert alert-warning d-none" role="alert"></div>
          <form id="chatForm" method="post">
            <div class="form-group">
              <label for="sender">Name</label>
              <input required="required" type="text" size="32" maxlength="64" class="form-control" name="sender" id="sender" placeholder="Enter Name or Handle">
            </div>
            <div class="form-group">
              <label for="body">Message</label>
              <textarea required="required" class="form-control" id="body" name="body" placeholder="Enter Message" maxlength=255 rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Send Message</button>
          </form>
        </div>
      </div>

    <!-- End .container -->
    </div>

    <script src="static/lib/jquery-3.2.1.min.js"></script>
    <script src="static/lib/bootstrap.min.js"></script>
    <script src="static/lib/popper.min.js"></script>
    <script src="static/lib/jquery.dataTables.min.js"></script>
    <script src="static/lib/dataTables.bootstrap4.min.js"></script>
    <script src="static/lib/dataTables.ellipsis.js"></script>
    <script src="static/lib/jquery.ui.widget.js"></script>
    <script src="static/lib/jquery.fileupload.js"></script>
    <script src="static/lib/jquery.iframe-transport.js"></script>
    <script src="static/assets/js/chat.js"></script>
    <script src="static/assets/js/files.js"></script>
  </body>
</html>
